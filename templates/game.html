<!DOCTYPE html>
<html>
<head>
    <title>Multiplayer Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>
    <script>
        var socket = io.connect('127.0.0.1:5000' + window.location.pathname);
        console.log('127.0.0.1:5000' + window.location.pathname)
        console.log('http://' + document.domain + ':' + location.port + window.location.pathname)

        socket.on('connect', function () {
            socket.emit('connect');
        });

        socket.on('message', function (data) {
            document.getElementById('messages').innerHTML += '<br>' + data.data;
            document.getElementById('user-count').innerHTML = 'User count: ' + data.count;
        });

        socket.on('start_game', function () {
            document.getElementById('messages').innerHTML += '<br>Game started!';
            window.location.href = '../makeBets'
        });

        socket.on('chat_message', function (data) {
            document.getElementById('messages').innerHTML += '<br>' + data.user + ': ' + data.data;
        });

        function sendMessage() {
            var message = document.getElementById('message').value;
            socket.emit('chat_message', {'data': message});
            document.getElementById('message').value = '';
        }
    </script>
</head>
<body>
    <h1>Multiplayer Game</h1>
    <div id="user-count">User count: 0</div>
    <div id="messages"></div>
    <input type="text" id="message" placeholder="Type a message...">
    <button onclick="sendMessage()">Send</button>
</body>
</html>